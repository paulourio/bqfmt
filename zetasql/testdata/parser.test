
SELECT 1
--
QueryStatement [0-8]
  Query [0-8]
    Select [0-8]
      SelectList [7-8]
        SelectColumn [7-8]
          IntLiteral(1) [7-8]
--
SELECT
  1
==

select 1; # NBSP
--
QueryStatement [0-9]
  Query [0-9]
    Select [0-9]
      SelectList [8-9]
        SelectColumn [8-9]
          IntLiteral(1) [8-9]
--
SELECT
  1
==

select
# full line comment
/* block
   comment */
-- full line comment
1# partial line comment
+-- partial line comment
2/*partial line block comment*/+3;
--
QueryStatement [0-153]
  Query [0-153]
    Select [0-153]
      SelectList [71-153]
        SelectColumn [71-153]
          BinaryExpression(+) [71-153]
            BinaryExpression(+) [71-121]
              IntLiteral(1) [71-72]
              IntLiteral(2) [120-121]
            IntLiteral(3) [152-153]
--
SELECT
  1 + 2 + 3
==

SELECT 1 + 2 + 3
--
QueryStatement [0-16]
  Query [0-16]
    Select [0-16]
      SelectList [7-16]
        SelectColumn [7-16]
          BinaryExpression(+) [7-16]
            BinaryExpression(+) [7-12]
              IntLiteral(1) [7-8]
              IntLiteral(2) [11-12]
            IntLiteral(3) [15-16]
--
SELECT
  1 + 2 + 3
==

Select 1 * 2 + 3
--
QueryStatement [0-16]
  Query [0-16]
    Select [0-16]
      SelectList [7-16]
        SelectColumn [7-16]
          BinaryExpression(+) [7-16]
            BinaryExpression(*) [7-12]
              IntLiteral(1) [7-8]
              IntLiteral(2) [11-12]
            IntLiteral(3) [15-16]
--
SELECT
  1 * 2 + 3
==

Select 1 + 2 * 3 + 4 + 4 * 6 * 7 + 8
--
QueryStatement [0-36]
  Query [0-36]
    Select [0-36]
      SelectList [7-36]
        SelectColumn [7-36]
          BinaryExpression(+) [7-36]
            BinaryExpression(+) [7-32]
              BinaryExpression(+) [7-20]
                BinaryExpression(+) [7-16]
                  IntLiteral(1) [7-8]
                  BinaryExpression(*) [11-16]
                    IntLiteral(2) [11-12]
                    IntLiteral(3) [15-16]
                IntLiteral(4) [19-20]
              BinaryExpression(*) [23-32]
                BinaryExpression(*) [23-28]
                  IntLiteral(4) [23-24]
                  IntLiteral(6) [27-28]
                IntLiteral(7) [31-32]
            IntLiteral(8) [35-36]
--
SELECT
  1 + 2 * 3 + 4 + 4 * 6 * 7 + 8
==

select--comment
--comment
1 -- comment
+--
2--comment
--
QueryStatement [0-44]
  Query [0-44]
    Select [0-44]
      SelectList [26-44]
        SelectColumn [26-44]
          BinaryExpression(+) [26-44]
            IntLiteral(1) [26-27]
            IntLiteral(2) [43-44]
--
SELECT
  1 + 2
==

# "--" with no space.
select --
5
--
QueryStatement [22-33]
  Query [22-33]
    Select [22-33]
      SelectList [32-33]
        SelectColumn [32-33]
          IntLiteral(5) [32-33]
--
SELECT
  5
==

# "-- " with a space.
select --
5
--
QueryStatement [22-33]
  Query [22-33]
    Select [22-33]
      SelectList [32-33]
        SelectColumn [32-33]
          IntLiteral(5) [32-33]
--
SELECT
  5
==

select --- 1
2
--
QueryStatement [0-14]
  Query [0-14]
    Select [0-14]
      SelectList [13-14]
        SelectColumn [13-14]
          IntLiteral(2) [13-14]
--
SELECT
  2
==

select - - 1
--
QueryStatement [0-12]
  Query [0-12]
    Select [0-12]
      SelectList [7-12]
        SelectColumn [7-12]
          UnaryExpression(-) [7-12]
            UnaryExpression(-) [9-12]
              IntLiteral(1) [11-12]
--
SELECT
  - -1
==

select - - - - - - - 1
--
QueryStatement [0-22]
  Query [0-22]
    Select [0-22]
      SelectList [7-22]
        SelectColumn [7-22]
          UnaryExpression(-) [7-22]
            UnaryExpression(-) [9-22]
              UnaryExpression(-) [11-22]
                UnaryExpression(-) [13-22]
                  UnaryExpression(-) [15-22]
                    UnaryExpression(-) [17-22]
                      UnaryExpression(-) [19-22]
                        IntLiteral(1) [21-22]
--
SELECT
  - - - - - - -1
==

# No comments inside strings.
select "abc -- def",
       "abc # def",
       "abc /* def */ ghi"
--
QueryStatement [30-97]
  Query [30-97]
    Select [30-97]
      SelectList [37-97]
        SelectColumn [37-49]
          StringLiteral("abc -- def") [37-49]
        SelectColumn [58-69]
          StringLiteral("abc # def") [58-69]
        SelectColumn [78-97]
          StringLiteral("abc /* def */ ghi") [78-97]
--
SELECT
  "abc -- def",
  "abc # def",
  "abc /* def */ ghi"
==

select /* no nested comments # -- /* */ 1;
--
QueryStatement [0-41]
  Query [0-41]
    Select [0-41]
      SelectList [40-41]
        SelectColumn [40-41]
          IntLiteral(1) [40-41]
--
SELECT
  1
==

select f1, f2 from T
--
QueryStatement [0-20]
  Query [0-20]
    Select [0-20]
      SelectList [7-13]
        SelectColumn [7-9]
          PathExpression [7-9]
            Identifier(f1) [7-9]
        SelectColumn [11-13]
          PathExpression [11-13]
            Identifier(f2) [11-13]
      FromClause [14-20]
        TablePathExpression [19-20]
          PathExpression [19-20]
            Identifier(T) [19-20]
--
SELECT
  f1,
  f2
FROM
  T
==

select f1, `f 2` from T where b;
--
QueryStatement [0-31]
  Query [0-31]
    Select [0-31]
      SelectList [7-16]
        SelectColumn [7-9]
          PathExpression [7-9]
            Identifier(f1) [7-9]
        SelectColumn [11-16]
          PathExpression [11-16]
            Identifier(`f 2`) [11-16]
      FromClause [17-23]
        TablePathExpression [22-23]
          PathExpression [22-23]
            Identifier(T) [22-23]
      WhereClause [24-31]
        PathExpression [30-31]
          Identifier(b) [30-31]
--
SELECT
  f1,
  `f 2`
FROM
  T
WHERE
  b
==

select f1 from (select 1 f1) AS subquery_alias_1, (select 1 f1) subquery_alias_2
--
QueryStatement [0-80]
  Query [0-80]
    Select [0-80]
      SelectList [7-9]
        SelectColumn [7-9]
          PathExpression [7-9]
            Identifier(f1) [7-9]
      FromClause [10-80]
        Join(COMMA) [48-80]
          TableSubquery [15-48]
            Query [16-27]
              Select [16-27]
                SelectList [23-27]
                  SelectColumn [23-27]
                    IntLiteral(1) [23-24]
                    Alias [25-27]
                      Identifier(f1) [25-27]
            Alias [29-48]
              Identifier(subquery_alias_1) [32-48]
          TableSubquery [50-80]
            Query [51-62]
              Select [51-62]
                SelectList [58-62]
                  SelectColumn [58-62]
                    IntLiteral(1) [58-59]
                    Alias [60-62]
                      Identifier(f1) [60-62]
            Alias [64-80]
              Identifier(subquery_alias_2) [64-80]
--
SELECT
  f1
FROM
  (
    SELECT
      1 AS f1
  ) AS subquery_alias_1,
  (
    SELECT
      1 AS f1
  ) AS subquery_alias_2
==

select hll_count.extract(hll_count.merge(foo)) from bar;
--
QueryStatement [0-55]
  Query [0-55]
    Select [0-55]
      SelectList [7-46]
        SelectColumn [7-46]
          FunctionCall [7-46]
            PathExpression [7-24]
              Identifier(hll_count) [7-16]
              Identifier(`extract`) [17-24]
            FunctionCall [25-45]
              PathExpression [25-40]
                Identifier(hll_count) [25-34]
                Identifier(`merge`) [35-40]
              PathExpression [41-44]
                Identifier(foo) [41-44]
      FromClause [47-55]
        TablePathExpression [52-55]
          PathExpression [52-55]
            Identifier(bar) [52-55]
--
SELECT
  hll_count.`extract`(hll_count.`merge`(foo))
FROM
  bar
==
