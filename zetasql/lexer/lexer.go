// Code generated by gocc; DO NOT EDIT.

package lexer

import (
	"io/ioutil"
	"unicode/utf8"

	"github.com/paulourio/bqfmt/zetasql/token"
)

const (
	NoState    = -1
	NumStates  = 799
	NumSymbols = 1073
)

type Lexer struct {
	src     []byte
	pos     int
	line    int
	column  int
	Context token.Context
}

func NewLexer(src []byte) *Lexer {
	lexer := &Lexer{
		src:     src,
		pos:     0,
		line:    1,
		column:  1,
		Context: nil,
	}
	return lexer
}

// SourceContext is a simple instance of a token.Context which
// contains the name of the source file.
type SourceContext struct {
	Filepath string
}

func (s *SourceContext) Source() string {
	return s.Filepath
}

func NewLexerFile(fpath string) (*Lexer, error) {
	src, err := ioutil.ReadFile(fpath)
	if err != nil {
		return nil, err
	}
	lexer := NewLexer(src)
	lexer.Context = &SourceContext{Filepath: fpath}
	return lexer, nil
}

func (l *Lexer) Scan() (tok *token.Token) {
	tok = &token.Token{}
	if l.pos >= len(l.src) {
		tok.Type = token.EOF
		tok.Pos.Offset, tok.Pos.Line, tok.Pos.Column = l.pos, l.line, l.column
		tok.Pos.Context = l.Context
		return
	}
	start, startLine, startColumn, end := l.pos, l.line, l.column, 0
	tok.Type = token.INVALID
	state, rune1, size := 0, rune(-1), 0
	for state != -1 {
		if l.pos >= len(l.src) {
			rune1 = -1
		} else {
			rune1, size = utf8.DecodeRune(l.src[l.pos:])
			l.pos += size
		}

		nextState := -1
		if rune1 != -1 {
			nextState = TransTab[state](rune1)
		}
		state = nextState

		if state != -1 {

			switch rune1 {
			case '\n':
				l.line++
				l.column = 1
			case '\r':
				l.column = 1
			case '\t':
				l.column += 4
			default:
				l.column++
			}

			switch {
			case ActTab[state].Accept != -1:
				tok.Type = ActTab[state].Accept
				end = l.pos
			case ActTab[state].Ignore != "":
				start, startLine, startColumn = l.pos, l.line, l.column
				state = 0
				if start >= len(l.src) {
					tok.Type = token.EOF
				}

			}
		} else {
			if tok.Type == token.INVALID {
				end = l.pos
			}
		}
	}
	if end > start {
		l.pos = end
		tok.Lit = l.src[start:end]
	} else {
		tok.Lit = []byte{}
	}
	tok.Pos.Offset, tok.Pos.Line, tok.Pos.Column = start, startLine, startColumn
	tok.Pos.Context = l.Context

	return
}

func (l *Lexer) Reset() {
	l.pos = 0
}

/*
Lexer symbols:
0: 'f'
1: 'F'
2: 'a'
3: 'A'
4: 'l'
5: 'L'
6: 's'
7: 'S'
8: 'e'
9: 'E'
10: 't'
11: 'T'
12: 'r'
13: 'R'
14: 'u'
15: 'U'
16: 'e'
17: 'E'
18: '.'
19: '.'
20: 'd'
21: 'D'
22: 'a'
23: 'A'
24: 't'
25: 'T'
26: 'e'
27: 'E'
28: 'd'
29: 'D'
30: 'a'
31: 'A'
32: 't'
33: 'T'
34: 'e'
35: 'E'
36: 't'
37: 'T'
38: 'i'
39: 'I'
40: 'm'
41: 'M'
42: 'e'
43: 'E'
44: 't'
45: 'T'
46: 'i'
47: 'I'
48: 'm'
49: 'M'
50: 'e'
51: 'E'
52: 't'
53: 'T'
54: 'i'
55: 'I'
56: 'm'
57: 'M'
58: 'e'
59: 'E'
60: 's'
61: 'S'
62: 't'
63: 'T'
64: 'a'
65: 'A'
66: 'm'
67: 'M'
68: 'p'
69: 'P'
70: 'n'
71: 'N'
72: 'u'
73: 'U'
74: 'm'
75: 'M'
76: 'e'
77: 'E'
78: 'r'
79: 'R'
80: 'i'
81: 'I'
82: 'c'
83: 'C'
84: 'd'
85: 'D'
86: 'e'
87: 'E'
88: 'c'
89: 'C'
90: 'i'
91: 'I'
92: 'm'
93: 'M'
94: 'a'
95: 'A'
96: 'l'
97: 'L'
98: 'b'
99: 'B'
100: 'i'
101: 'I'
102: 'g'
103: 'G'
104: 'n'
105: 'N'
106: 'u'
107: 'U'
108: 'm'
109: 'M'
110: 'e'
111: 'E'
112: 'r'
113: 'R'
114: 'i'
115: 'I'
116: 'c'
117: 'C'
118: 'b'
119: 'B'
120: 'i'
121: 'I'
122: 'g'
123: 'G'
124: 'd'
125: 'D'
126: 'e'
127: 'E'
128: 'c'
129: 'C'
130: 'i'
131: 'I'
132: 'm'
133: 'M'
134: 'a'
135: 'A'
136: 'l'
137: 'L'
138: 'a'
139: 'A'
140: 'r'
141: 'R'
142: 'r'
143: 'R'
144: 'a'
145: 'A'
146: 'y'
147: 'Y'
148: 's'
149: 'S'
150: 't'
151: 'T'
152: 'r'
153: 'R'
154: 'u'
155: 'U'
156: 'c'
157: 'C'
158: 't'
159: 'T'
160: 'n'
161: 'N'
162: 'u'
163: 'U'
164: 'l'
165: 'L'
166: 'l'
167: 'L'
168: 'f'
169: 'F'
170: 'o'
171: 'O'
172: 'r'
173: 'R'
174: 'm'
175: 'M'
176: 'a'
177: 'A'
178: 't'
179: 'T'
180: 's'
181: 'S'
182: 'e'
183: 'E'
184: 'l'
185: 'L'
186: 'e'
187: 'E'
188: 'c'
189: 'C'
190: 't'
191: 'T'
192: 'f'
193: 'F'
194: 'r'
195: 'R'
196: 'o'
197: 'O'
198: 'm'
199: 'M'
200: 'w'
201: 'W'
202: 'i'
203: 'I'
204: 't'
205: 'T'
206: 'h'
207: 'H'
208: 'a'
209: 'A'
210: 's'
211: 'S'
212: 't'
213: 'T'
214: 'o'
215: 'O'
216: 'a'
217: 'A'
218: 'n'
219: 'N'
220: 'd'
221: 'D'
222: 'o'
223: 'O'
224: 'r'
225: 'R'
226: 'i'
227: 'I'
228: 's'
229: 'S'
230: 'i'
231: 'I'
232: 'n'
233: 'N'
234: 'i'
235: 'I'
236: 'n'
237: 'N'
238: 't'
239: 'T'
240: 'e'
241: 'E'
242: 'r'
243: 'R'
244: 's'
245: 'S'
246: 'e'
247: 'E'
248: 'c'
249: 'C'
250: 't'
251: 'T'
252: 'u'
253: 'U'
254: 'n'
255: 'N'
256: 'i'
257: 'I'
258: 'o'
259: 'O'
260: 'n'
261: 'N'
262: 'l'
263: 'L'
264: 'i'
265: 'I'
266: 'k'
267: 'K'
268: 'e'
269: 'E'
270: 'n'
271: 'N'
272: 'o'
273: 'O'
274: 't'
275: 'T'
276: 'r'
277: 'R'
278: 'o'
279: 'O'
280: 'w'
281: 'W'
282: 'r'
283: 'R'
284: 'o'
285: 'O'
286: 'w'
287: 'W'
288: 's'
289: 'S'
290: 'r'
291: 'R'
292: 'a'
293: 'A'
294: 'n'
295: 'N'
296: 'g'
297: 'G'
298: 'e'
299: 'E'
300: 'f'
301: 'F'
302: 'o'
303: 'O'
304: 'l'
305: 'L'
306: 'l'
307: 'L'
308: 'o'
309: 'O'
310: 'w'
311: 'W'
312: 'i'
313: 'I'
314: 'n'
315: 'N'
316: 'g'
317: 'G'
318: 'p'
319: 'P'
320: 'r'
321: 'R'
322: 'e'
323: 'E'
324: 'c'
325: 'C'
326: 'e'
327: 'E'
328: 'd'
329: 'D'
330: 'i'
331: 'I'
332: 'n'
333: 'N'
334: 'g'
335: 'G'
336: 'c'
337: 'C'
338: 'u'
339: 'U'
340: 'r'
341: 'R'
342: 'r'
343: 'R'
344: 'e'
345: 'E'
346: 'n'
347: 'N'
348: 't'
349: 'T'
350: 'p'
351: 'P'
352: 'a'
353: 'A'
354: 'r'
355: 'R'
356: 't'
357: 'T'
358: 'i'
359: 'I'
360: 't'
361: 'T'
362: 'i'
363: 'I'
364: 'o'
365: 'O'
366: 'n'
367: 'N'
368: 'b'
369: 'B'
370: 'e'
371: 'E'
372: 't'
373: 'T'
374: 'w'
375: 'W'
376: 'e'
377: 'E'
378: 'e'
379: 'E'
380: 'n'
381: 'N'
382: 'r'
383: 'R'
384: 'e'
385: 'E'
386: 's'
387: 'S'
388: 'p'
389: 'P'
390: 'e'
391: 'E'
392: 'c'
393: 'C'
394: 't'
395: 'T'
396: 'i'
397: 'I'
398: 'g'
399: 'G'
400: 'n'
401: 'N'
402: 'o'
403: 'O'
404: 'r'
405: 'R'
406: 'e'
407: 'E'
408: 'n'
409: 'N'
410: 'u'
411: 'U'
412: 'l'
413: 'L'
414: 'l'
415: 'L'
416: 's'
417: 'S'
418: 'u'
419: 'U'
420: 'n'
421: 'N'
422: 'b'
423: 'B'
424: 'o'
425: 'O'
426: 'u'
427: 'U'
428: 'n'
429: 'N'
430: 'd'
431: 'D'
432: 'e'
433: 'E'
434: 'd'
435: 'D'
436: 'a'
437: 'A'
438: 'l'
439: 'L'
440: 'l'
441: 'L'
442: 'd'
443: 'D'
444: 'i'
445: 'I'
446: 's'
447: 'S'
448: 't'
449: 'T'
450: 'i'
451: 'I'
452: 'n'
453: 'N'
454: 'c'
455: 'C'
456: 't'
457: 'T'
458: 'e'
459: 'E'
460: 'x'
461: 'X'
462: 'c'
463: 'C'
464: 'e'
465: 'E'
466: 'p'
467: 'P'
468: 't'
469: 'T'
470: 'f'
471: 'F'
472: 'i'
473: 'I'
474: 'r'
475: 'R'
476: 's'
477: 'S'
478: 't'
479: 'T'
480: 'l'
481: 'L'
482: 'a'
483: 'A'
484: 's'
485: 'S'
486: 't'
487: 'T'
488: 'r'
489: 'R'
490: 'e'
491: 'E'
492: 'p'
493: 'P'
494: 'l'
495: 'L'
496: 'a'
497: 'A'
498: 'c'
499: 'C'
500: 'e'
501: 'E'
502: 'c'
503: 'C'
504: 'a'
505: 'A'
506: 's'
507: 'S'
508: 't'
509: 'T'
510: 'g'
511: 'G'
512: 'r'
513: 'R'
514: 'o'
515: 'O'
516: 'u'
517: 'U'
518: 'p'
519: 'P'
520: 'h'
521: 'H'
522: 'a'
523: 'A'
524: 'v'
525: 'V'
526: 'i'
527: 'I'
528: 'n'
529: 'N'
530: 'g'
531: 'G'
532: 'o'
533: 'O'
534: 'r'
535: 'R'
536: 'd'
537: 'D'
538: 'e'
539: 'E'
540: 'r'
541: 'R'
542: 'b'
543: 'B'
544: 'y'
545: 'Y'
546: 'a'
547: 'A'
548: 's'
549: 'S'
550: 'c'
551: 'C'
552: 'd'
553: 'D'
554: 'e'
555: 'E'
556: 's'
557: 'S'
558: 'c'
559: 'C'
560: 'l'
561: 'L'
562: 'i'
563: 'I'
564: 'm'
565: 'M'
566: 'i'
567: 'I'
568: 't'
569: 'T'
570: 'o'
571: 'O'
572: 'f'
573: 'F'
574: 'f'
575: 'F'
576: 's'
577: 'S'
578: 'e'
579: 'E'
580: 't'
581: 'T'
582: 'a'
583: 'A'
584: 't'
585: 'T'
586: 'z'
587: 'Z'
588: 'o'
589: 'O'
590: 'n'
591: 'N'
592: 'e'
593: 'E'
594: 'c'
595: 'C'
596: 'a'
597: 'A'
598: 's'
599: 'S'
600: 'e'
601: 'E'
602: 'w'
603: 'W'
604: 'h'
605: 'H'
606: 'e'
607: 'E'
608: 'n'
609: 'N'
610: 't'
611: 'T'
612: 'h'
613: 'H'
614: 'e'
615: 'E'
616: 'n'
617: 'N'
618: 'e'
619: 'E'
620: 'l'
621: 'L'
622: 's'
623: 'S'
624: 'e'
625: 'E'
626: 'e'
627: 'E'
628: 'n'
629: 'N'
630: 'd'
631: 'D'
632: 'u'
633: 'U'
634: 'n'
635: 'N'
636: 'n'
637: 'N'
638: 'e'
639: 'E'
640: 's'
641: 'S'
642: 't'
643: 'T'
644: 'j'
645: 'J'
646: 'o'
647: 'O'
648: 'i'
649: 'I'
650: 'n'
651: 'N'
652: 'c'
653: 'C'
654: 'r'
655: 'R'
656: 'o'
657: 'O'
658: 's'
659: 'S'
660: 's'
661: 'S'
662: 't'
663: 'T'
664: 'a'
665: 'A'
666: 'b'
667: 'B'
668: 'l'
669: 'L'
670: 'e'
671: 'E'
672: 's'
673: 'S'
674: 'a'
675: 'A'
676: 'm'
677: 'M'
678: 'p'
679: 'P'
680: 'l'
681: 'L'
682: 'e'
683: 'E'
684: 'p'
685: 'P'
686: 'e'
687: 'E'
688: 'r'
689: 'R'
690: 'c'
691: 'C'
692: 'e'
693: 'E'
694: 'n'
695: 'N'
696: 't'
697: 'T'
698: 'r'
699: 'R'
700: 'e'
701: 'E'
702: 'p'
703: 'P'
704: 'e'
705: 'E'
706: 'a'
707: 'A'
708: 't'
709: 'T'
710: 'a'
711: 'A'
712: 'b'
713: 'B'
714: 'l'
715: 'L'
716: 'e'
717: 'E'
718: 'f'
719: 'F'
720: 'u'
721: 'U'
722: 'l'
723: 'L'
724: 'l'
725: 'L'
726: 'o'
727: 'O'
728: 'u'
729: 'U'
730: 't'
731: 'T'
732: 'e'
733: 'E'
734: 'r'
735: 'R'
736: 'l'
737: 'L'
738: 'e'
739: 'E'
740: 'f'
741: 'F'
742: 't'
743: 'T'
744: 'r'
745: 'R'
746: 'i'
747: 'I'
748: 'g'
749: 'G'
750: 'h'
751: 'H'
752: 't'
753: 'T'
754: 'i'
755: 'I'
756: 'n'
757: 'N'
758: 'n'
759: 'N'
760: 'e'
761: 'E'
762: 'r'
763: 'R'
764: 'u'
765: 'U'
766: 's'
767: 'S'
768: 'i'
769: 'I'
770: 'n'
771: 'N'
772: 'g'
773: 'G'
774: 'o'
775: 'O'
776: 'n'
777: 'N'
778: 's'
779: 'S'
780: 'a'
781: 'A'
782: 'f'
783: 'F'
784: 'e'
785: 'E'
786: '_'
787: 'c'
788: 'C'
789: 'a'
790: 'A'
791: 's'
792: 'S'
793: 't'
794: 'T'
795: 'w'
796: 'W'
797: 'h'
798: 'H'
799: 'e'
800: 'E'
801: 'r'
802: 'R'
803: 'e'
804: 'E'
805: 'w'
806: 'W'
807: 'e'
808: 'E'
809: 'i'
810: 'I'
811: 'g'
812: 'G'
813: 'h'
814: 'H'
815: 't'
816: 'T'
817: 'w'
818: 'W'
819: 'i'
820: 'I'
821: 'n'
822: 'N'
823: 'd'
824: 'D'
825: 'o'
826: 'O'
827: 'w'
828: 'W'
829: 'e'
830: 'E'
831: 'x'
832: 'X'
833: 't'
834: 'T'
835: 'r'
836: 'R'
837: 'a'
838: 'A'
839: 'c'
840: 'C'
841: 't'
842: 'T'
843: 'o'
844: 'O'
845: 'v'
846: 'V'
847: 'e'
848: 'E'
849: 'r'
850: 'R'
851: 'i'
852: 'I'
853: 'n'
854: 'N'
855: 't'
856: 'T'
857: 'e'
858: 'E'
859: 'r'
860: 'R'
861: 'v'
862: 'V'
863: 'a'
864: 'A'
865: 'l'
866: 'L'
867: 'q'
868: 'Q'
869: 'u'
870: 'U'
871: 'a'
872: 'A'
873: 'l'
874: 'L'
875: 'i'
876: 'I'
877: 'f'
878: 'F'
879: 'y'
880: 'Y'
881: '-'
882: '-'
883: '\n'
884: '#'
885: '\n'
886: '/'
887: '*'
888: '*'
889: '*'
890: '/'
891: '`'
892: '`'
893: ';'
894: ','
895: '*'
896: '('
897: ')'
898: '<'
899: '>'
900: '|'
901: '^'
902: '&'
903: '['
904: ']'
905: '.'
906: '+'
907: '-'
908: '~'
909: '/'
910: '|'
911: '|'
912: '<'
913: '<'
914: '>'
915: '>'
916: '@'
917: '='
918: '!'
919: '='
920: '<'
921: '>'
922: '<'
923: '='
924: '>'
925: '='
926: '0'
927: 'x'
928: 'X'
929: '"'
930: '"'
931: '"'
932: '`'
933: '''
934: '"'
935: '\n'
936: '"'
937: '"'
938: '"'
939: '''
940: '''
941: '''
942: '`'
943: '''
944: '"'
945: '\n'
946: '''
947: '''
948: '''
949: '"'
950: '`'
951: '''
952: '"'
953: '''
954: '`'
955: '"'
956: '''
957: '"'
958: '`'
959: '''
960: '"'
961: '''
962: '`'
963: '"'
964: '''
965: '''
966: '''
967: '''
968: '`'
969: '"'
970: '''
971: '''
972: '''
973: '"'
974: '"'
975: '"'
976: '`'
977: '"'
978: '"'
979: '"'
980: '"'
981: '\'
982: 'r'
983: 'R'
984: '\'
985: 'a'
986: 'b'
987: 'f'
988: 'n'
989: 'r'
990: 't'
991: 'v'
992: '"'
993: '?'
994: '`'
995: '\'
996: '''
997: '\'
998: '\'
999: 'x'
1000: 'X'
1001: '\'
1002: 'U'
1003: '\'
1004: 'u'
1005: '_'
1006: '_'
1007: ' '
1008: '!'
1009: '@'
1010: '#'
1011: '$'
1012: '%'
1013: '^'
1014: '&'
1015: '*'
1016: '('
1017: ')'
1018: '-'
1019: '['
1020: ']'
1021: '{'
1022: '}'
1023: ':'
1024: ';'
1025: ','
1026: '.'
1027: '?'
1028: '/'
1029: '~'
1030: '<'
1031: '>'
1032: '"'
1033: '\'
1034: '''
1035: 'b'
1036: 'B'
1037: 'r'
1038: 'R'
1039: 'b'
1040: 'B'
1041: 'b'
1042: 'B'
1043: 'r'
1044: 'R'
1045: 'e'
1046: 'E'
1047: '+'
1048: '-'
1049: ' '
1050: '\t'
1051: '\n'
1052: '\r'
1053: \u00a0
1054: '0'-'9'
1055: 'a'-'f'
1056: 'A'-'F'
1057: \u0001-'\t'
1058: '\v'-'!'
1059: '#'-'&'
1060: '('-'['
1061: ']'-'_'
1062: 'a'-\u007f
1063: \u0080-\ufffc
1064: \ufffe-\U0010ffff
1065: '0'-'7'
1066: \u0001-'\t'
1067: '\v'-\u007f
1068: \u0080-\ufffc
1069: \ufffe-\U0010ffff
1070: 'a'-'z'
1071: 'A'-'Z'
1072: .
*/
